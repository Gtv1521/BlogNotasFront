<div class="contenedor">
    <div class="parcial">
        <h1 class="title">Crea un usuario</h1>
        <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="formulario">
            <div class="items">
                <label class="item label" for="nombre">First Name:</label>
                <input class="item" formControlName="firstName" type="text" id="firstName">
                @if (userForm.get("firstName")?.invalid && userForm.get("firstName")?.touched) {
                <div class="alert">Ingrese un nombre</div>
                }
            </div>
            <div class="items">
                <label class="item label" for="apellido">Last Name:</label>
                <input class="item" formControlName="lastName" type="text" id="lastName">
                @if (userForm.get("lastName")?.invalid && userForm.get("lastName")?.touched) {
                <div class="alert">Ingrese un apellido</div>
                }
            </div>
            <div class="items">
                <label class="item label" for="email">E-mail:</label>
                <input class="item" formControlName="email" type="text" id="email">
                @if (userForm.get("email")?.invalid && userForm.get("email")?.touched) {
                <div class="alert">Ingrese un correo</div>
                }
            </div>
            <div class="items">
                <label class="item label" for="usuario">UserName:</label>
                <input class="item" type="text" formControlName="userName" id="username">
                @if (userForm.get("userName")?.invalid && userForm.get("userName")?.touched) {
                <div class="alert">Ingrese un Usuario</div>
                }
            </div>
            <div class="items">
                <label class="item label" for="usuario">Password:</label>
                <input class="item" formControlName="password" [type]="showPassword ? 'text' : 'password'"
                    id="password">
                @if (userForm.get("password")?.invalid && userForm.get("password")?.touched) {
                <div class="alert">Es necesario una contrase単a</div>
                }
            </div>
            <div class="items">
                <label class="item label" for="contrase単a">Password Confirmacion:</label>
                <input class="item" formControlName="passwordConfirm" [type]="showPassword ? 'text' : 'password'"
                    id="passwordConfirm">
                @if (userForm.get("passwordConfirm")?.invalid && userForm.get("passwordConfirm")?.touched) {
                <div class="alert">Es necesario repetir contrase単a</div>
                }
            </div>

            <div class="items">
                <input class="" type="checkbox" (click)="Cambiar()" id="recordarme">
                <label for="recordarme"> {{ showPassword ? 'Ocultar' : 'Mostrar'}} contrase単as.</label>
            </div>
            <div class="items button">
                <button class="boton-envia" type="submit" [disabled]="userForm.invalid">Enviar</button>
            </div>

            @if (IsLoading) {
            <div class="loading">Loading...</div>
            }

            @if (errorMensage) {
            <div class="error">
                {{errorMensage}}
            </div>
            }
        </form>
    </div>
</div>